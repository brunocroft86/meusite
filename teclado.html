<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula de Digita√ß√£o - Prof. Bruno Galv√£o</title>
    <link rel="shortcut icon" href="imagem/logofv.png" type="image/x-icon">
    <style>
        /* --- ESTILOS PRINCIPAIS --- */
        :root {
            --cor-vermelha: #c0392b; 
            --cor-branca: #ffffff;
            --sombra: rgba(0,0,0,0.5);
            --cor-ouro: #f1c40f;
        }

        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden; 
            
            /* --- BACKGROUND (FUNDO) --- */
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                        url('imagem/MC\ LOgo.jpeg');
            
            background-size: 100% 100%; 
            background-position: center;
            background-repeat: no-repeat;
            
            color: white;
        }

        /* --- CABE√áALHO --- */
        header {
            width: 100%;
            background-color: var(--cor-vermelha);
            padding: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 4px solid var(--cor-branca);
            box-shadow: 0 4px 10px var(--sombra);
            position: relative;
            z-index: 10;
        }

        /* √Årea da Logo */
        .area-logo {
            flex: 1;
            padding-left: 30px;
            display: flex;
            align-items: center;
        }

        .caixa-logo {
            width: 80px;  
            height: 80px; 
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden; 
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        .caixa-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
        }

        /* √Årea do T√≠tulo */
        .area-titulo {
            flex: 2;
            text-align: center;
        }

        .area-titulo h1 {
            margin: 0;
            font-size: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .area-titulo p {
            margin: 0;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* √Årea do Timer */
        .area-timer {
            flex: 1;
            padding-right: 30px;
            text-align: right;
        }

        #relogio {
            font-size: 1.8rem;
            font-weight: bold;
            font-family: monospace;
            background: rgba(0,0,0,0.3);
            padding: 5px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* --- √ÅREA DO JOGO --- */
        .container-jogo {
            margin-top: 30px; 
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            /* Scroll para telas pequenas se o ranking for grande */
            max-height: 80vh;
            overflow-y: auto;
        }

        #palavra {
            color: var(--cor-vermelha);
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 20px;
            text-transform: lowercase;
        }

        input {
            width: 100%;
            box-sizing: border-box; 
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #ccc;
            border-radius: 10px;
            text-align: center;
            outline: none;
            color: #333;
            transition: 0.3s;
            margin-bottom: 10px; /* Espa√ßo entre inputs */
        }

        input:focus {
            border-color: var(--cor-vermelha);
            box-shadow: 0 0 10px rgba(192, 57, 43, 0.2);
        }

        .placar {
            margin-top: 20px;
            color: #555;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        #pontos { color: var(--cor-vermelha); font-size: 1.5rem; }

        /* Bot√µes */
        #btn-acao {
            background-color: var(--cor-vermelha);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s;
            width: 100%;
        }
        #btn-acao:hover { transform: scale(1.05); }

        .escondido { display: none; }
        .acertou { border-color: #27ae60 !important; color: #27ae60 !important; }

        /* --- RANKING ESTILO --- */
        .ranking-box {
            margin-top: 20px;
            border-top: 2px solid #ddd;
            padding-top: 15px;
            text-align: left;
        }
        .ranking-box h3 {
            color: var(--cor-vermelha);
            text-align: center;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        .lista-ranking {
            list-style: none;
            padding: 0;
            color: #333;
        }
        .lista-ranking li {
            background: #eee;
            margin-bottom: 5px;
            padding: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            font-weight: bold;
        }
        .destaque-pontos { color: var(--cor-vermelha); }
        .info-aluna { font-size: 0.9rem; color: #555; font-weight: normal; }

    </style>
</head>
<body>

    <header>
        <div class="area-logo">
            <div class="caixa-logo">
                <img src="imagem/logoleao.jpeg" alt="Logo">
            </div>
        </div>

        <div class="area-titulo">
            <h1>Prof. Bruno Galv√£o</h1>
            <p></p>
        </div>

        <div class="area-timer">
            <span id="relogio">10:00</span>
        </div>
    </header>

    <div class="container-jogo">
        
        <div id="tela-inicial">
            <h2 style="color: #333">Aula de Digita√ß√£o</h2>
            <p style="color: #666">Identifique-se para come√ßar:</p>
            
            <input type="text" id="nome-aluna" placeholder="Nome da Aluna" required>
            <input type="text" id="unidade-aluna" placeholder="Unidade de Ensino (Bairro)" required>

            <button id="btn-acao" onclick="verificarDados()">COME√áAR (10 min)</button>

            <div class="ranking-box">
                <h3>üèÜ Ranking - Melhores Pontua√ß√µes</h3>
                <ul id="lista-ranking" class="lista-ranking">
                    <li style="text-align:center; color:#777;">Nenhum recorde ainda...</li>
                </ul>
            </div>
        </div>

        <div id="tela-jogo" class="escondido">
            <div id="palavra">...</div>
            <input type="text" id="input-texto" placeholder="Digite aqui..." autocomplete="off">
            
            <div class="placar">
                Acertos: <span id="pontos">0</span>
            </div>
        </div>

        <div id="tela-fim" class="escondido">
            <h2 style="color: var(--cor-vermelha)">FIM DO TEMPO!</h2>
            <h1 style="color: #333; font-size: 3rem; margin: 0;"><span id="pontos-finais">0</span></h1>
            <p style="color: #555">Palavras digitadas corretamente</p>
            <p id="mensagem-salvo" style="color: green; font-weight: bold;">Pontua√ß√£o Salva no Ranking!</p>
            <button id="btn-acao" onclick="location.reload()">VER RANKING / TENTAR NOVAMENTE</button>
        </div>

    </div>

    <script>
        const TEMPO_INICIAL = 600; // 10 Minutos
        
        const listaPalavras = [
            'teclado', 'mouse', 'monitor', 'internet', 'wifi', 'cabo', 
            'escola', 'aluna', 'professor', 'mesa', 'cadeira', 'sala',
            'software', 'hardware', 'windows', 'linux', 'android', 'apple',
            'gabinete', 'fonte', 'mem√≥ria', 'disco', 'pasta', 'arquivo',
            'texto', 'imagem', 'foto', 'som', 'jogo', 'play',
            'enter', 'shift', 'control', 'espa√ßo', 'delete', 'home',
            'nuvem', 'drive', 'e-mail', 'site', 'link', 'blog', 'mulheres', 'conectadas',
            'inform√°tica', 'computa√ß√£o', 'l√≥gica', 'c√≥digo',
            'usu√°rio', 'dom√≠nio', 'v√≠deo', '√°udio',
            'p√°gina', 'n√∫mero', 'voc√™', 'at√©'
        ];

        const telaInicial = document.getElementById('tela-inicial');
        const telaJogo = document.getElementById('tela-jogo');
        const telaFim = document.getElementById('tela-fim');
        const elPalavra = document.getElementById('palavra');
        const inputTexto = document.getElementById('input-texto');
        const elPontos = document.getElementById('pontos');
        const elPontosFinais = document.getElementById('pontos-finais');
        const elRelogio = document.getElementById('relogio');
        
        // Elementos de Identifica√ß√£o
        const inputNome = document.getElementById('nome-aluna');
        const inputUnidade = document.getElementById('unidade-aluna');
        const listaRankingHTML = document.getElementById('lista-ranking');

        let tempo = TEMPO_INICIAL;
        let pontos = 0;
        let intervalo;
        let nomeAtual = "";
        let unidadeAtual = "";

        // --- FUN√á√ïES DE RANKING ---
        function carregarRanking() {
            const rankingSalvo = localStorage.getItem('ranking_digitacao_prof_bruno');
            if (rankingSalvo) {
                const ranking = JSON.parse(rankingSalvo);
                listaRankingHTML.innerHTML = ""; // Limpa a lista
                
                // Pega apenas os top 5
                ranking.slice(0, 5).forEach((item, index) => {
                    listaRankingHTML.innerHTML += `
                        <li>
                            <span>${index + 1}. ${item.nome} <span class="info-aluna">(${item.unidade})</span></span>
                            <span class="destaque-pontos">${item.pontos} pts</span>
                        </li>
                    `;
                });
            }
        }

        function salvarPontuacao(pontosFinais) {
            let ranking = JSON.parse(localStorage.getItem('ranking_digitacao_prof_bruno') || "[]");
            
            // Adiciona nova pontua√ß√£o
            ranking.push({
                nome: nomeAtual,
                unidade: unidadeAtual,
                pontos: pontosFinais
            });

            // Ordena do maior para o menor
            ranking.sort((a, b) => b.pontos - a.pontos);

            // Salva de volta no navegador
            localStorage.setItem('ranking_digitacao_prof_bruno', JSON.stringify(ranking));
        }

        // --- L√ìGICA DO JOGO ---

        function verificarDados() {
            nomeAtual = inputNome.value.trim();
            unidadeAtual = inputUnidade.value.trim();

            if (nomeAtual === "" || unidadeAtual === "") {
                alert("Por favor, preencha o NOME e a UNIDADE antes de come√ßar!");
                return;
            }
            iniciarJogo();
        }

        function iniciarJogo() {
            telaInicial.classList.add('escondido');
            telaJogo.classList.remove('escondido');
            inputTexto.value = '';
            inputTexto.focus();
            novaPalavra();
            intervalo = setInterval(contarTempo, 1000);
        }

        function novaPalavra() {
            const sorteada = listaPalavras[Math.floor(Math.random() * listaPalavras.length)];
            elPalavra.innerText = sorteada;
            inputTexto.classList.remove('acertou');
        }

        function contarTempo() {
            tempo--;
            let min = Math.floor(tempo / 60);
            let sec = tempo % 60;
            if (sec < 10) sec = "0" + sec;
            elRelogio.innerText = min + ":" + sec;

            if (tempo <= 0) fimDeJogo();
        }

        function fimDeJogo() {
            clearInterval(intervalo);
            telaJogo.classList.add('escondido');
            telaFim.classList.remove('escondido');
            elPontosFinais.innerText = pontos;
            
            // Salva no Ranking
            salvarPontuacao(pontos);
        }

        inputTexto.addEventListener('input', function() {
            const digitado = inputTexto.value.trim().toLowerCase();
            const palavraCerta = elPalavra.innerText.toLowerCase();

            if (digitado === palavraCerta) {
                pontos++;
                elPontos.innerText = pontos;
                inputTexto.classList.add('acertou');
                inputTexto.value = '';
                setTimeout(novaPalavra, 100);
            }
        });

        // Carrega o ranking assim que abre a p√°gina
        window.onload = carregarRanking;

    </script>
</body>
</html>